{"version":3,"sources":["scripts/app-b07a83360e.js"],"names":["angular","module","navbar","NavbarController","directive","restrict","templateUrl","controller","controllerAs","bindToController","MainController","$timeout","$log","$http","JBL_CONSTANTS","vm","this","collapsed","showGraph","selected","courses","topics","chapters","assessments","by","step1","step2","step3","toArray","data","Object","keys","map","k","openAdv","alert","getCourses","params","copy","BASE_PARAMS","extend","PARAMS","COURSES","url","BASE_URI","method","cache","paramSerializer","then","response","fromJson","debug","getActivities","ACTIVITY","engagements","getChapters","CHAPTERS","getTopics","TOPICS","courseVal","list","forEach","c","push","id","join","getAssesments","ASSETS","clist","tlist","sectionVal","gradelabel","gradeVal","showReport","REPORT","sectiontype","length","elist","e","name","activitylable","chlist","report","total","createGraph","graph","x","groupsArr","d","key","studentName","grade","g","isUndefined","quizType","parseInt","timespend","graphReport","c3","generate","bindto","columns","type","labels","colors","pattern","group","size","height","legend","position","axis","rotated","label","text","y","bar","width","ratio","grid","show","flush","$inject","runBlock","run","routerConfig","$stateProvider","$urlRouterProvider","state","otherwise","config","constant","wsfunction","wstoken","moodlewsrestformat","sectionlabel","assetlabel","assetVal","studentlabel","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-b07a83360e.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('jbl', ['ui.router', 'ui.bootstrap', 'ui.select']);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('jbl')\n    .directive('navbar', navbar);\n\n  /** @ngInject */\n  function navbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController() {\n    }\n  }\n\n})();\n\n/* global angular, c3 */\n(function() {\n  'use strict';\n\n  angular\n    .module('jbl')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($timeout, $log, $http, JBL_CONSTANTS) {\n      var vm = this;\n      vm.collapsed = false;\n      vm.showGraph = false;\n      vm.selected = {\n          courses: null,\n          topics: null,\n          chapters: null,\n          assessments: null\n      };\n \n      vm.by = {\n          step1: null,\n          step2: null,\n          step3: null\n      };\n\n      vm.courses = [];\n      vm.topics = [];\n      vm.chapters = [];\n      vm.assessments = [];\n\n      vm.toArray = function(data) {\n          return Object.keys(data).map(function(k) {\n              return data[k];\n          });\n      };\n\n      vm.openAdv = function () {\n          if (vm.selected.courses === null) {\n              alert(\"Select some courses\");\n              return;\n          }\n          vm.collapsed = !vm.collapsed;\n      };\n\n      vm.getCourses  = function () {\n          var params = angular.copy(JBL_CONSTANTS.BASE_PARAMS);\n          angular.extend(params, JBL_CONSTANTS.PARAMS.COURSES);\n          $http({\n              url: JBL_CONSTANTS.BASE_URI,\n              method: 'GET',\n              cache: true,\n              params: params,\n              paramSerializer: '$httpParamSerializerJQLike'\n          }).then(function(response) {\n              vm.courses = vm.toArray(angular.fromJson(response.data));\n          }, function() {\n              $log.debug(\"Request Failed\");\n          });\n      };\n\n      vm.getActivities = function () {\n          var params = angular.copy(JBL_CONSTANTS.BASE_PARAMS);\n          angular.extend(params, JBL_CONSTANTS.PARAMS.ACTIVITY);\n          $http({\n              url: JBL_CONSTANTS.BASE_URI,\n              method: 'GET',\n              cache: true,\n              params: params,\n              paramSerializer: '$httpParamSerializerJQLike'\n          }).then(function(response) {\n              vm.engagements = vm.toArray(angular.fromJson(response.data));\n          }, function() {\n              $log.debug(\"Request Failed\");\n          });\n      };\n\n      vm.getChapters = function() {\n          vm.selected.chapters = null;\n          vm.selected.topics = null;\n          vm.selected.assessments = null;\n          var params = angular.copy(JBL_CONSTANTS.BASE_PARAMS);\n          angular.extend(params, JBL_CONSTANTS.PARAMS.CHAPTERS);\n          $http({\n              url: JBL_CONSTANTS.BASE_URI,\n              method: 'GET',\n              cache: true,\n              params: params,\n              paramSerializer: '$httpParamSerializerJQLike'\n          }).then(function(response) {\n              vm.chapters = vm.toArray(angular.fromJson(response.data));\n          }, function() {\n              $log.debug(\"Request Failed\");\n          });\n      };\n\n      vm.getTopics = function() {\n          vm.selected.chapters = null;\n          vm.selected.topics = null;\n          vm.selected.assessments = null;\n          var params = angular.copy(JBL_CONSTANTS.BASE_PARAMS);\n          angular.extend(params, JBL_CONSTANTS.PARAMS.TOPICS);\n          params.courseVal = (function() {\n              var list = [];\n              angular.forEach(vm.selected.courses, function(c) {\n                  list.push(c.id);\n              });\n              return '[' +list.join(',') + ']';\n          })();\n          $http({\n              url: JBL_CONSTANTS.BASE_URI,\n              method: 'GET',\n              cache: true,\n              params: params\n          }).then(function(response) {\n              vm.topics = vm.toArray(angular.fromJson(response.data));\n          }, function() {\n              $log.debug(\"Request Failed\");\n          });\n      };\n\n      vm.getAssesments = function () {\n          var params = angular.copy(JBL_CONSTANTS.BASE_PARAMS);\n          params = angular.extend(params, JBL_CONSTANTS.PARAMS.ASSETS);\n          \n          if (vm.selected.courses !== null) {\n              var clist = [];\n              angular.forEach(vm.selected.courses, function(c) {\n                  clist.push(c.id);\n              });\n              params.courseVal = '[' +clist.join(',') + ']';\n          }\n\n          if (vm.selected.topics !== null) {\n              var tlist = [];\n              angular.forEach(vm.selected.topics, function(c) {\n                  tlist.push(c.id);\n              });\n              params.sectionVal = '[' +tlist.join(',') + ']';\n          }\n\n          if (vm.by.step1 !== null) {\n              params.gradelabel = vm.by.step1;\n              params.gradeVal = vm.by.step1;\n          }\n          \n          $http({\n              url: JBL_CONSTANTS.BASE_URI,\n              method: 'GET',\n              cache: true,\n              params: params\n          }).then(function(response) {\n              vm.assessments = vm.toArray(angular.fromJson(response.data));\n          }, function() {\n              $log.debug(\"Request Failed\");\n          });\n      };\n\n      vm.showReport = function() {\n          var params = angular.copy(JBL_CONSTANTS.BASE_PARAMS);\n          params = angular.extend(params, JBL_CONSTANTS.PARAMS.REPORT);\n\n          if (vm.by.step1 !== null) {\n              params.gradelabel = vm.by.step1;\n              params.gradeVal = vm.by.step1;\n          } else {\n              alert(\"Complete Step 1 by selecting either by grade or by engagement\");\n              return;\n          }\n          if (vm.by.step2 !== null) {\n              params.sectiontype = vm.by.step2;\n          } else {\n              alert(\"Complete Step 2 by selecting either chapters or topics\");\n              return;\n          }\n          \n          if (vm.engagements.length > 0 && vm.by.step1 === 'engagement') {\n              var elist = [];\n              angular.forEach(vm.engagements, function(e) {\n                  if (e.selected === true) {\n                      elist.push(e.name);\n                  }\n              });\n              if (elist.length <= 0) {\n                  alert(\"Select atleast an activity type in step 1\");\n                  return;\n              }\n              params.activitylable = elist.join(',');\n          }\n          \n          if (vm.selected.courses !== null) {\n              var clist = [];\n              angular.forEach(vm.selected.courses, function(c) {\n                  clist.push(c.id);\n              });\n              params.courseVal = '[' +clist.join(',') + ']';\n          } else {\n              alert(\"Select atleast one course.\");\n              vm.collapsed = false;\n              return;\n          }\n\n          if (vm.selected.topics !== null) {\n              var tlist = [];\n              angular.forEach(vm.selected.topics, function(c) {\n                  tlist.push(c.id);\n              });\n              params.sectionVal = '[' +tlist.join(',') + ']';\n          } else if (vm.selected.chapters !== null) {\n              var chlist = [];\n              angular.forEach(vm.selected.topics, function(c) {\n                  chlist.push(c.id);\n              });\n              params.sectionVal = '[' +chlist.join(',') + ']';\n          }\n\n          $http({\n              url: JBL_CONSTANTS.BASE_URI,\n              method: 'GET',\n              cache: true,\n              params: params\n          }).then(function(response) {\n              var report = angular.fromJson(response.data);\n              if (report.total > 0) {\n                  vm.createGraph(vm.toArray(report.data));\n                  vm.collapsed = false;\n              } else {\n                  alert(\"No Records found\");\n                  return;\n              }\n          }, function() {\n              $log.debug(\"Request Failed\");\n          });\n      };\n\n      vm.createGraph = function(data) {\n          var graph = {\n              x: ['x']\n          };\n          var groupsArr = {};\n          angular.forEach(data, function(d, key) {\n              graph.x.push(d.studentName);\n              if (vm.by.step1 === 'engagement') {\n                  angular.forEach(d.grade, function(g) {\n                      if (angular.isUndefined(graph[g.quizType])) {\n                          graph[g.quizType] = [];\n                          groupsArr[g.quizType] = true;\n                      }\n\n                      if (angular.isUndefined(graph[g.quizType][(key+1)])) {\n                          graph[g.quizType][key] = parseInt(g.timespend);\n                      } else {\n                          graph[g.quizType][key] = parseInt(graph[g.quizType][key]) + parseInt(g.timespend);\n                      }\n                  });\n              } else if (vm.by.step1 === 'grade') {\n                  angular.forEach(d.grade, function(g) {\n                      if (angular.isUndefined(graph[g.quizType])) {\n                          graph[g.quizType] = [g.quizType];\n                          groupsArr[g.quizType] = true;\n                      }\n\n                      if (angular.isUndefined(graph[g.quizType][(key+1)])) {\n                          graph[g.quizType][(key+1)] = parseInt(g.grade);\n                      } else {\n                          graph[g.quizType][(key+1)] = parseInt(graph[g.quizType][(key+1)]) + parseInt(g.grade);\n                      }\n                  });\n              }\n          });\n\n          $timeout(function() {\n              vm.showGraph = true;\n              vm.graphReport = c3.generate({\n                  bindto: '#jbl-graph-report',\n                  data: {\n                      x: 'x',\n                      columns: vm.toArray(graph),\n                      type: 'bar',\n                      labels: true,\n                      colors: {\n                          pattern: ['#7babc0', '#d71920', '#5c284b', '#004b91']\n                      },\n                      group: Object.keys(groupsArr)\n                  },\n                  size: {\n                      height: 600\n                  },\n                  legend: {\n                      position: 'inset'\n                  },\n                  axis : {\n                      rotated: true,\n                      x: {\n                          type: 'category',\n                          label: {\n                              text: 'Student Name',\n                              position: 'outer-top'\n                          }\n                      },\n                      y: {\n                          label: {\n                              text: ((vm.by.step1 === 'grade') ? 'Grade' : 'Time Spent'),\n                              position: 'inner-bottom'\n                          }\n                      }\n                  },\n                  bar: {\n                      width: { ratio: 0.5}\n                  },\n                  grid: {\n                      y: {show: true}\n                  }\n              });\n              $timeout(function() {\n                  vm.graphReport.flush();\n              }, 10);\n          }, 0);\n      };\n      vm.getCourses();\n      vm.getActivities();\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('jbl')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('jbl')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) { //, $locationProvider) {\n      //$locationProvider.html5Mode(true);\n      $stateProvider\n          .state('home', {\n              url: '/',\n              templateUrl: 'app/main/main.html',\n              controller: 'MainController',\n              controllerAs: 'main'\n          });\n\n      $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('jbl')\n    .constant('JBL_CONSTANTS', {\n        BASE_URI: 'http://bparlapalliascend.dev.jbldev.com:8027/local/graph/customrest.php',\n        BASE_PARAMS: {\n            wsfunction: 'graph',\n            wstoken: '86c1a6de874cfb200b78dba83dbdc491',\n            moodlewsrestformat: 'json'\n        },\n        PARAMS: {\n            COURSES: {\n                type: 'courselist'\n            },\n            CHAPTERS: {\n                type: 'chapterlist'\n            },\n            TOPICS: {\n                type: 'topiclist',\n                courseVal: null\n            },\n            ACTIVITY: {\n                type: 'activity'\n            },\n            ASSETS: {\n                type: 'assetlist',\n                courseVal: null,\n                sectionlabel: '',\n                sectionVal: null,\n                gradelabel: '',\n                gradeVal: ''\n            },\n            REPORT: {\n                type: 'report1',\n                courseVal: null,\n                gradelabel: '',\n                gradeVal: '',\n                sectionlabel: '',\n                sectionVal: null,\n                sectiontype: '',\n                assetlabel: '',\n                assetVal: null,\n                activitylable: '',\n                studentlabel: ''\n            }\n        }\n    });\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('jbl')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n  }\n\n})();\n\nangular.module(\"jbl\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"row-fluid\\\"><div class=\\\"navbar navbar-static-top navbar-inverse filter-bar\\\"><div class=\\\"container-fluid\\\"><div class=\\\"row-fluid\\\"><div class=\\\"col-md-3\\\"><h1>Analytics</h1></div><div class=\\\"col-md-7 course-select\\\"><ui-select multiple=\\\"\\\" theme=\\\"bootstrap\\\" data-ng-model=\\\"main.selected.courses\\\"><ui-select-match placeholder=\\\"Select Courses ...\\\">{{$item.name}}</ui-select-match><ui-select-choices repeat=\\\"course in main.courses | filter:$select.search\\\">{{course.name}}</ui-select-choices></ui-select></div><div class=\\\"col-md-2\\\"><div class=\\\"btn-group\\\"><button data-ng-click=\\\"main.openAdv()\\\" class=\\\"btn btn-warning btn-lg\\\">Advanced <span class=\\\"caret\\\"></span></button></div></div><div class=\\\"col-md-12 panel panel-default adv-filter hidden\\\" data-ng-class=\\\"main.collapsed ? \\'visible\\': \\'hidden\\'\\\" data-ng-hide=\\\"!main.collapsed\\\"><div class=\\\"panel-body\\\"><div class=\\\"col-md-3\\\"><div class=\\\"btn-group-vertical btn-block\\\"><label class=\\\"btn btn-default\\\" data-ng-model=\\\"main.by.step1\\\" btn-radio=\\\"\\'grade\\'\\\">By Grade</label> <label class=\\\"btn btn-default\\\" data-ng-model=\\\"main.by.step1\\\" btn-radio=\\\"\\'engagement\\'\\\">By Engagement</label></div><div class=\\\"btn-group-vertical engagement-container hidden\\\" data-ng-show=\\\"main.by.step1 == \\'engagement\\'\\\" data-ng-class=\\\"main.by.step1 == \\'engagement\\' ? \\'visible\\' : \\'hidden\\'\\\"><h5 class=\\\"text-primary\\\">Activity List</h5><label class=\\\"btn btn-primary\\\" btn-checkbox=\\\"\\\" data-ng-model=\\\"type.selected\\\" data-ng-repeat=\\\"type in main.engagements\\\">{{type.name}}</label></div></div><div class=\\\"col-md-3\\\"><div class=\\\"btn-group-vertical btn-block\\\"><label class=\\\"btn btn-default\\\" data-ng-click=\\\"main.getChapters()\\\" data-ng-model=\\\"main.by.step2\\\" btn-radio=\\\"\\'chapter\\'\\\">By Chapter</label> <label class=\\\"btn btn-default\\\" data-ng-click=\\\"main.getTopics()\\\" data-ng-model=\\\"main.by.step2\\\" btn-radio=\\\"\\'topic\\'\\\">By Topic</label></div><ui-select multiple=\\\"\\\" theme=\\\"bootstrap\\\" data-ng-model=\\\"main.selected.chapters\\\" data-ng-show=\\\"main.by.step2 == \\'chapter\\'\\\"><ui-select-match placeholder=\\\"Select Chapter ...\\\">{{$item.name}}</ui-select-match><ui-select-choices repeat=\\\"chapter in main.chapters | filter:$select.search\\\">{{chapter.name}}</ui-select-choices></ui-select><ui-select multiple=\\\"\\\" theme=\\\"bootstrap\\\" data-ng-model=\\\"main.selected.topics\\\" data-ng-show=\\\"main.by.step2 == \\'topic\\'\\\"><ui-select-match placeholder=\\\"Select Topic ...\\\">{{$item.name}}</ui-select-match><ui-select-choices repeat=\\\"topic in main.topics | filter:$select.search\\\">{{topic.name}}</ui-select-choices></ui-select></div><div class=\\\"col-md-3\\\"><div class=\\\"btn-group-vertical btn-block\\\"><label class=\\\"btn btn-default\\\" data-ng-click=\\\"main.getAssesments()\\\" data-ng-disabled=\\\"main.by.step2 !=\\'topic\\'\\\" data-ng-model=\\\"main.by.step3\\\" btn-radio=\\\"\\'assessment\\'\\\">By Assessment</label></div><ui-select multiple=\\\"\\\" theme=\\\"bootstrap\\\" data-ng-model=\\\"main.selected.assessments\\\" data-ng-show=\\\"main.by.step3 == \\'assessment\\'\\\"><ui-select-match placeholder=\\\"Select Assessment ...\\\">{{$item.name}}</ui-select-match><ui-select-choices repeat=\\\"assessment in main.assessments | filter:$select.search\\\">{{assessment.name}}</ui-select-choices></ui-select></div><div class=\\\"col-md-3\\\"><div class=\\\"btn-group-vertical btn-block\\\"><label class=\\\"btn btn-default\\\" data-ng-model=\\\"main.by.step4\\\" btn-radio=\\\"\\'top\\'\\\">Top 33%</label> <label class=\\\"btn btn-default\\\" data-ng-model=\\\"main.by.step4\\\" btn-radio=\\\"\\'middle\\'\\\">Middle Select %</label> <label class=\\\"btn btn-default\\\" data-ng-model=\\\"main.by.step4\\\" btn-radio=\\\"\\'bottom\\'\\\">Bottom Select %</label> <label class=\\\"btn btn-default\\\" data-ng-model=\\\"main.by.step4\\\" btn-radio=\\\"\\'all\\'\\\">All</label></div><button type=\\\"button\\\" data-ng-click=\\\"main.showReport()\\\" class=\\\"show-report btn btn-success btn-block\\\">Show Report</button></div></div></div></div></div></div><div class=\\\"col-md-10 col-md-offset-1 graph-wrapper\\\" data-ng-show=\\\"main.showGraph\\\"><legend>Report</legend><div id=\\\"jbl-graph-report\\\" class=\\\"chart\\\"></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-default jbl-navbar\\\"><div class=\\\"container-fluid\\\"><div class=\\\"navbar-header\\\"><a class=\\\"navbar-brand\\\" href=\\\"\\\"><img src=\\\"assets/images/logo.png\\\" class=\\\"header-image\\\" alt=\\\"\\\" \\\"jbl=\\\"\\\" reports\\\"=\\\"\\\"></a></div></div></nav>\");}]);"],"sourceRoot":"/source/"}